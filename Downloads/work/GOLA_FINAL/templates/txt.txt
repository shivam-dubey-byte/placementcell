// Submit data using fetch
fetch('/submit', {
    method: 'POST',
    body: formData
})
.then(response => {
    if (!response.ok) {
        throw new Error('Network response was not ok');
    }
    return response.json();
})
.then(data => {
    // Show success message
    alert(data.message);

    // Redirect to home or another page
    window.location.href = '/';
})
.catch(error => {
    console.error('There was a problem with the fetch operation:', error);
    alert('An error occurred while submitting the form. Please try again.');
});



















document.getElementById('partnerForm').addEventListener('submit', function(event) {
      event.preventDefault(); // Prevent the default form submission

      let valid = true;
      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      const address = document.getElementById('address').value.trim();

      // Name validation
      if (name === "") {
          valid = false;
          document.getElementById('nameError').textContent = "Name is required.";
      } else {
          document.getElementById('nameError').textContent = "";
      }

      // Email validation
      const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (email === "") {
          valid = false;
          document.getElementById('emailError').textContent = "Email is required.";
      } else if (!emailPattern.test(email)) {
          valid = false;
          document.getElementById('emailError').textContent = "Invalid email format.";
      } else {
          document.getElementById('emailError').textContent = "";
      }

      // Address validation
      if (address === "") {
          valid = false;
          document.getElementById('addressError').textContent = "Address is required.";
      } else {
          document.getElementById('addressError').textContent = "";
      }

      // Collect form data
      const formData = new FormData(this);

      // Send form data to the Flask backend using fetch
      fetch('/submit', {
          method: 'POST',
          body: formData
      })
      .then(response => response.json())  // Parse JSON response from Flask
      .then(data => {
          // Show success message in an alert
          alert(data.message);  // Show the message returned from Flask

          // Redirect to the home page after 2 seconds
          setTimeout(() => {
              window.location.href = '/';  // Redirect to the home page (adjust URL if necessary)
          }, 2000); // 2-second delay before redirecting
      })
      .catch((error) => {
          console.error('Error:', error);
          // Handle error here (e.g., display error message)
      });
  });
function validateForm() {
      let valid = true;
      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      const address = document.getElementById('address').value.trim();

      // Name validation
      if (name === "") {
          valid = false;
          document.getElementById('nameError').textContent = "Name is required.";
      } else {
          document.getElementById('nameError').textContent = "";
      }

      // Email validation
      const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (email === "") {
          valid = false;
          document.getElementById('emailError').textContent = "Email is required.";
      } else if (!emailPattern.test(email)) {
          valid = false;
          document.getElementById('emailError').textContent = "Invalid email format.";
      } else {
          document.getElementById('emailError').textContent = "";
      }

      // Address validation
      if (address === "") {
          valid = false;
          document.getElementById('addressError').textContent = "Address is required.";
      } else {
          document.getElementById('addressError').textContent = "";
      }

      // Collect form data
      const formData = new FormData(this);

      // Send form data to the Flask backend using fetch
      fetch('/submit', {
          method: 'POST',
          body: formData
      })
      .then(response => response.json())  // Parse JSON response from Flask
      .then(data => {
        alert(data.message)
        //  console.log('Success:', data);
          // Handle success response here (e.g., display success message)
          // Redirect to the home page after 2 seconds
            setTimeout(() => {
                window.location.href = '/';  // Redirect to the home page (adjust URL if necessary)
            }, 2000); // 2-second delay before redirecting
      })
      .catch((error) => {
          console.error('Error:', error);
          // Handle error here (e.g., display error message)
      });

      return valid;
  }
